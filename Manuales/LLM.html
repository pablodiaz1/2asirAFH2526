<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chef-Bot · Crear un LLM local (Fine-tuning + GGUF)</title>

  <style>
    :root{
      --bg:#07080b;
      --ink:#eaf0ff;
      --muted:rgba(234,240,255,.70);
      --muted2:rgba(234,240,255,.55);
      --line:rgba(255,255,255,.10);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
      --r:22px;
      --r2:16px;

      /* Paleta nueva (diferente) */
      --p1:#ff4d6d; /* fucsia/rosa */
      --p2:#ffd166; /* dorado */
      --p3:#06d6a0; /* verde menta */
      --p4:#4cc9f0; /* cian */
      --p5:#9b5de5; /* morado */

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    /* ✅ evitar corte lateral */
    html, body { width:100%; overflow-x:hidden; }
    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background:
        radial-gradient(1100px 600px at 10% 0%, rgba(255,77,109,.18), transparent 60%),
        radial-gradient(900px 520px at 80% -10%, rgba(76,201,240,.16), transparent 60%),
        radial-gradient(900px 520px at 50% 110%, rgba(6,214,160,.12), transparent 60%),
        var(--bg);
      line-height: 1.55;
    }

    a{ color: inherit; text-decoration:none; }
    a:hover{ text-decoration: underline; }

    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 18px 14px 70px;
    }

    /* Top Step Bar (horizontal, no sidebar) */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(7,8,11,.70);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topbar-inner{
      max-width:1120px;
      margin:0 auto;
      padding: 10px 14px;
      display:flex;
      gap: 10px;
      align-items:center;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 260px;
    }
    .mark{
      width: 40px; height:40px;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--p1), var(--p4), var(--p5));
      box-shadow: 0 22px 70px rgba(255,77,109,.18);
      flex: 0 0 auto;
    }
    .brand b{ display:block; letter-spacing:-.02em; }
    .brand small{ display:block; color: var(--muted2); margin-top:-2px; }

    .steps{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content:flex-end;
      align-items:center;
    }
    .stepchip{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px;
      color: rgba(234,240,255,.86);
      display:inline-flex;
      gap: 8px;
      align-items:center;
      white-space: nowrap;
    }
    .n{
      width: 18px; height: 18px;
      border-radius: 999px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      font-size: 11px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.12);
    }

    /* Hero */
    .hero{
      margin-top: 16px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border-radius: calc(var(--r) + 8px);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 300px at 12% 20%, rgba(255,209,102,.16), transparent 60%),
        radial-gradient(700px 300px at 88% 0%, rgba(155,93,229,.14), transparent 60%);
      pointer-events:none;
    }
    .hero-inner{
      position:relative;
      padding: 20px 18px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 920px){
      .hero-inner{ grid-template-columns: 1fr; }
    }
    h1{
      margin:0 0 8px;
      font-size: clamp(26px, 3.2vw, 44px);
      letter-spacing: -0.03em;
    }
    .lead{
      margin:0;
      color: var(--muted);
      max-width: 85ch;
    }
    .kpis{
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .kpi{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      border-radius: var(--r);
      padding: 12px;
    }
    .kpi b{ display:block; }
    .kpi small{ display:block; margin-top:4px; color: var(--muted2); }

    /* Section blocks (full width cards) */
    section.block{
      margin-top: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.05);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .blockhead{
      padding: 14px 16px;
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: 12px;
      background: rgba(255,255,255,.03);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .blockhead .title{
      min-width: 0;
    }
    .blockhead h2{
      margin:0;
      font-size: 18px;
      letter-spacing: -.01em;
    }
    .blockhead p{
      margin: 6px 0 0;
      color: var(--muted);
    }
    .badge{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px;
      color: rgba(234,240,255,.86);
      white-space: nowrap;
      flex: 0 0 auto;
    }

    .blockbody{
      padding: 14px 16px 16px;
    }

    /* Callouts */
    .callouts{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    @media (max-width: 920px){
      .callouts{ grid-template-columns: 1fr; }
    }
    .note{
      border-radius: var(--r2);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.28);
      padding: 12px;
    }
    .note b{ display:flex; align-items:center; gap: 8px; }
    .dot{
      width: 10px; height: 10px; border-radius: 999px;
      background: var(--p2);
      box-shadow: 0 0 20px rgba(255,209,102,.20);
      flex: 0 0 auto;
    }
    .dot.g{ background: var(--p3); box-shadow: 0 0 20px rgba(6,214,160,.18); }
    .dot.b{ background: var(--p4); box-shadow: 0 0 20px rgba(76,201,240,.18); }
    .note p{ margin: 8px 0 0; color: rgba(234,240,255,.82); }

    /* Command cards (different style) */
    .cmdcard{
      margin-top: 12px;
      border-radius: var(--r);
      border: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(500px 220px at 10% 0%, rgba(255,77,109,.12), transparent 60%),
        radial-gradient(500px 220px at 90% 0%, rgba(76,201,240,.12), transparent 60%),
        rgba(0,0,0,.34);
      overflow:hidden;
    }
    .cmdtop{
      padding: 10px 10px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .cmdtop .left{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 0;
      color: rgba(234,240,255,.78);
      letter-spacing: .12em;
      text-transform: uppercase;
      font-size: 12px;
    }
    .spark{
      width: 10px; height: 10px; border-radius: 999px;
      background: linear-gradient(180deg, var(--p1), var(--p5));
      box-shadow: 0 0 18px rgba(155,93,229,.18);
      flex: 0 0 auto;
    }
    .copy{
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      color: rgba(234,240,255,.92);
      padding: 8px 10px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 12px;
      cursor:pointer;
      flex: 0 0 auto;
    }
    .copy:hover{ background: rgba(255,255,255,.12); }

    pre{
      margin:0;
      padding: 12px;
      font-family: var(--mono);
      font-size: 13px;
      color: rgba(234,240,255,.92);
      white-space: pre-wrap;         /* ✅ no empuja lateral */
      overflow-wrap: anywhere;       /* ✅ corta enlaces largos */
      word-break: break-word;
    }

    /* Footer */
    footer{
      margin-top: 14px;
      color: var(--muted2);
      font-size: 12px;
      text-align:center;
      opacity:.9;
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="mark" aria-hidden="true"></div>
        <div>
          <b>Chef-Bot · LLM local</b>
          <small>Fine-tuning + LoRA + GGUF (LM Studio)</small>
        </div>
      </div>

      <div class="steps" aria-label="Ruta de pasos">
        <a class="stepchip" href="#intro"><span class="n">0</span> Concepto</a>
        <a class="stepchip" href="#req"><span class="n">1</span> Requisitos</a>
        <a class="stepchip" href="#env"><span class="n">2</span> Entorno</a>
        <a class="stepchip" href="#data"><span class="n">3</span> Dataset</a>
        <a class="stepchip" href="#cfg"><span class="n">4</span> Config</a>
        <a class="stepchip" href="#train"><span class="n">5</span> Train</a>
        <a class="stepchip" href="#merge"><span class="n">6</span> Merge</a>
        <a class="stepchip" href="#gguf"><span class="n">7</span> GGUF</a>
        <a class="stepchip" href="#test"><span class="n">8</span> Prueba</a>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="hero" id="top">
      <div class="hero-inner">
        <div>
          <h1>Crear un “LLM local”</h1>
          <p class="lead">
            En esta práctica no creas un modelo desde cero: <b>personalizas un modelo existente</b> para una tarea específica.
            Vas a construir un asistente llamado <b>Chef-Bot</b>, especializado en generar recetas a partir de ingredientes.
          </p>

          <div class="callouts">
            <div class="note" id="intro">
              <b><span class="dot"></span> Idea clave</b>
              <p>Dataset = “nueva habilidad”. Cuanto mejor el dataset, más consistente el comportamiento.</p>
            </div>
            <div class="note">
              <b><span class="dot g"></span> Regla de oro</b>
              <p><b>calidad &gt; cantidad</b>: pocos ejemplos buenos suelen rendir mejor que muchos malos.</p>
            </div>
          </div>
        </div>

        <div class="kpis">
          <div class="kpi" id="req">
            <b>Requisitos previos</b>
            <small>GPU NVIDIA con CUDA · Python 3.11/3.12 · Git · 30–50 GB libres</small>
          </div>
          <div class="kpi">
            <b>Objetivo final</b>
            <small>Obtener <b>chef-bot-q4.gguf</b> para cargar en LM Studio.</small>
          </div>
          <div class="kpi">
            <b>Modelo base</b>
            <small><b>microsoft/Phi-3-mini-4k-instruct</b> + LoRA (4-bit)</small>
          </div>
        </div>
      </div>
    </div>

    <!-- ENTORNO -->
    <section class="block" id="env">
      <div class="blockhead">
        <div class="title">
          <h2>Preparar entorno</h2>
          <p>Crear carpeta, venv, actualizar pip e instalar dependencias (PyTorch, librerías IA, Axolotl, llama.cpp).</p>
        </div>
        <div class="badge">Setup</div>
      </div>
      <div class="blockbody">

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Crear proyecto + venv (Windows)</div>
            <button class="copy" data-copy="mkdir mi-chef-bot&#10;cd mi-chef-bot&#10;python -m venv venv&#10;venv\\Scripts\\activate&#10;pip install --upgrade pip">Copiar</button>
          </div>
          <pre><code>mkdir mi-chef-bot
cd mi-chef-bot

python -m venv venv
venv\Scripts\activate

pip install --upgrade pip</code></pre>
        </div>

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> PyTorch con CUDA</div>
            <button class="copy" data-copy="pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121">Copiar</button>
          </div>
          <pre><code>pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121</code></pre>
        </div>

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Librerías IA</div>
            <button class="copy" data-copy="pip install transformers datasets accelerate">Copiar</button>
          </div>
          <pre><code>pip install transformers datasets accelerate</code></pre>
        </div>

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Instalar Axolotl</div>
            <button class="copy" data-copy="git clone https://github.com/OpenAccess-AI-Collective/axolotl&#10;cd axolotl&#10;pip install -e .[flash-attn,deepspeed]&#10;cd ..">Copiar</button>
          </div>
          <pre><code>git clone https://github.com/OpenAccess-AI-Collective/axolotl
cd axolotl
pip install -e .[flash-attn,deepspeed]
cd ..</code></pre>
        </div>

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Clonar llama.cpp (cuantización)</div>
            <button class="copy" data-copy="git clone https://github.com/ggerganov/llama.cpp&#10;pip install -r llama.cpp/requirements.txt">Copiar</button>
          </div>
          <pre><code>git clone https://github.com/ggerganov/llama.cpp
pip install -r llama.cpp/requirements.txt</code></pre>
        </div>

        <div class="callouts">
          <div class="note">
            <b><span class="dot b"></span> Qué estás montando</b>
            <p>Un entorno listo para: entrenar LoRA (Axolotl) y convertir el modelo a GGUF (llama.cpp).</p>
          </div>
          <div class="note">
            <b><span class="dot"></span> Consejo</b>
            <p>Ejecuta siempre con el <b>venv activado</b> para evitar errores de versiones.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- DATASET -->
    <section class="block" id="data">
      <div class="blockhead">
        <div class="title">
          <h2>Crear el dataset de recetas</h2>
          <p>El dataset enseña a Chef-Bot a convertir ingredientes en recetas (formato JSONL estilo Alpaca).</p>
        </div>
        <div class="badge">Dataset</div>
      </div>
      <div class="blockbody">

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Crear archivo recetas.jsonl</div>
            <button class="copy" data-copy="notepad recetas.jsonl">Copiar</button>
          </div>
          <pre><code>notepad recetas.jsonl</code></pre>
        </div>

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Contenido del dataset</div>
            <button class="copy" data-copy="{&quot;instruction&quot;:&quot;Tengo pechugas de pollo, limón y ajo.&quot;,&quot;output&quot;:&quot;Puedes preparar pechugas de pollo al limón. Sella el pollo, añade ajo picado y zumo de limón, cocina a fuego lento y sazona.&quot;}&#10;{&quot;instruction&quot;:&quot;Ingredientes: patatas, huevos, cebolla.&quot;,&quot;output&quot;:&quot;Prepara una tortilla de patatas pochando las patatas y cebolla, mezclándolas con huevo batido y cuajando la mezcla en la sartén.&quot;}&#10;{&quot;instruction&quot;:&quot;Tomates, mozzarella y albahaca.&quot;,&quot;output&quot;:&quot;Prepara una ensalada Caprese cortando tomate y mozzarella, añadiendo albahaca y aliñando con aceite y sal.&quot;}&#10;{&quot;instruction&quot;:&quot;Garbanzos, espinacas y pimentón.&quot;,&quot;output&quot;:&quot;Haz un potaje sofriendo ajo y pimentón, añade garbanzos y espinacas y cocina unos minutos.&quot;}&#10;{&quot;instruction&quot;:&quot;Lentejas, chorizo y zanahoria.&quot;,&quot;output&quot;:&quot;Cuece lentejas con zanahoria y chorizo hasta que estén tiernas y añade un sofrito opcional.&quot;}">Copiar</button>
          </div>
          <pre><code>{"instruction":"Tengo pechugas de pollo, limón y ajo.","output":"Puedes preparar pechugas de pollo al limón. Sella el pollo, añade ajo picado y zumo de limón, cocina a fuego lento y sazona."}
{"instruction":"Ingredientes: patatas, huevos, cebolla.","output":"Prepara una tortilla de patatas pochando las patatas y cebolla, mezclándolas con huevo batido y cuajando la mezcla en la sartén."}
{"instruction":"Tomates, mozzarella y albahaca.","output":"Prepara una ensalada Caprese cortando tomate y mozzarella, añadiendo albahaca y aliñando con aceite y sal."}
{"instruction":"Garbanzos, espinacas y pimentón.","output":"Haz un potaje sofriendo ajo y pimentón, añade garbanzos y espinacas y cocina unos minutos."}
{"instruction":"Lentejas, chorizo y zanahoria.","output":"Cuece lentejas con zanahoria y chorizo hasta que estén tiernas y añade un sofrito opcional."}</code></pre>
        </div>

        <div class="callouts">
          <div class="note">
            <b><span class="dot g"></span> IMPORTANTE</b>
            <p>El dataset enseña al modelo su nueva habilidad. Mejor pocos ejemplos bien escritos que muchos genéricos.</p>
          </div>
          <div class="note">
            <b><span class="dot"></span> Objetivo del dataset</b>
            <p>Que Chef-Bot responda solo sobre cocina y “entienda” el formato ingredientes → receta.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CONFIG -->
    <section class="block" id="cfg">
      <div class="blockhead">
        <div class="title">
          <h2>Configurar Axolotl (LoRA)</h2>
          <p>Archivo config_chef.yml: modelo base, dataset, módulos LoRA, entrenamiento y salida.</p>
        </div>
        <div class="badge">Config</div>
      </div>
      <div class="blockbody">

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Crear config_chef.yml</div>
            <button class="copy" data-copy="notepad config_chef.yml">Copiar</button>
          </div>
          <pre><code>notepad config_chef.yml</code></pre>
        </div>

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Contenido config_chef.yml</div>
            <button class="copy" data-copy="base_model: microsoft/Phi-3-mini-4k-instruct&#10;model_type: PhiForCausalLM&#10;tokenizer_type: AutoTokenizer&#10;&#10;load_in_4bit: true&#10;adapter: lora&#10;&#10;datasets:&#10;  - path: recetas.jsonl&#10;    type: alpaca&#10;&#10;dataset_prepared_path: last_run_prepared&#10;val_set_size: 0.05&#10;&#10;sequence_len: 1024&#10;sample_packing: true&#10;&#10;lora_r: 16&#10;lora_alpha: 32&#10;lora_dropout: 0.05&#10;lora_target_modules:&#10;  - qkv_proj&#10;  - o_proj&#10;  - gate_up_proj&#10;  - down_proj&#10;&#10;num_epochs: 4&#10;micro_batch_size: 1&#10;gradient_accumulation_steps: 2&#10;learning_rate: 0.0002&#10;optimizer: adamw_bnb_8bit&#10;lr_scheduler: cosine&#10;&#10;output_dir: ./chef-bot-lora">Copiar</button>
          </div>
          <pre><code>base_model: microsoft/Phi-3-mini-4k-instruct
model_type: PhiForCausalLM
tokenizer_type: AutoTokenizer

load_in_4bit: true
adapter: lora

datasets:
  - path: recetas.jsonl
    type: alpaca

dataset_prepared_path: last_run_prepared
val_set_size: 0.05

sequence_len: 1024
sample_packing: true

lora_r: 16
lora_alpha: 32
lora_dropout: 0.05
lora_target_modules:
  - qkv_proj
  - o_proj
  - gate_up_proj
  - down_proj

num_epochs: 4
micro_batch_size: 1
gradient_accumulation_steps: 2
learning_rate: 0.0002
optimizer: adamw_bnb_8bit
lr_scheduler: cosine

output_dir: ./chef-bot-lora</code></pre>
        </div>
      </div>
    </section>

    <!-- TRAIN -->
    <section class="block" id="train">
      <div class="blockhead">
        <div class="title">
          <h2>Entrenar (fine-tuning)</h2>
          <p>Inicia el entrenamiento: descarga el modelo base, aprende recetas y crea adaptadores LoRA.</p>
        </div>
        <div class="badge">Train</div>
      </div>
      <div class="blockbody">

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> Iniciar el fine-tuning</div>
            <button class="copy" data-copy="accelerate launch -m axolotl.cli.train config_chef.yml">Copiar</button>
          </div>
          <pre><code>accelerate launch -m axolotl.cli.train config_chef.yml</code></pre>
        </div>

        <div class="callouts">
          <div class="note">
            <b><span class="dot g"></span> Qué ocurre aquí</b>
            <p>✔ descarga el modelo base. ✔ aprende recetas. ✔ crea adaptadores LoRA.</p>
          </div>
          <div class="note">
            <b><span class="dot"></span> Si falla</b>
            <p>Baja <b>micro_batch_size</b> o sube <b>gradient_accumulation_steps</b> para consumir menos VRAM.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- MERGE -->
    <section class="block" id="merge">
      <div class="blockhead">
        <div class="title">
          <h2>Fusionar el modelo (merge LoRA)</h2>
          <p>Une el modelo base con el adaptador entrenado para generar el modelo final.</p>
        </div>
        <div class="badge">Merge</div>
      </div>
      <div class="blockbody">

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> merge_lora</div>
            <button class="copy" data-copy="accelerate launch -m axolotl.cli.merge_lora config_chef.yml --lora_model_dir=&quot;./chef-bot-lora/&quot;">Copiar</button>
          </div>
          <pre><code>accelerate launch -m axolotl.cli.merge_lora config_chef.yml --lora_model_dir="./chef-bot-lora/"</code></pre>
        </div>
      </div>
    </section>

    <!-- GGUF -->
    <section class="block" id="gguf">
      <div class="blockhead">
        <div class="title">
          <h2>Convertir a GGUF (cuantización)</h2>
          <p>Convierte el modelo fusionado a GGUF con cuantización q4_k_m para ejecutarlo en local.</p>
        </div>
        <div class="badge">GGUF</div>
      </div>
      <div class="blockbody">

        <div class="cmdcard">
          <div class="cmdtop">
            <div class="left"><span class="spark"></span> convert-hf-to-gguf</div>
            <button class="copy" data-copy="python llama.cpp/convert-hf-to-gguf.py ./chef-bot-lora/merged/ --outfile chef-bot-q4.gguf --outtype q4_k_m">Copiar</button>
          </div>
          <pre><code>python llama.cpp/convert-hf-to-gguf.py ./chef-bot-lora/merged/ --outfile chef-bot-q4.gguf --outtype q4_k_m</code></pre>
        </div>

        <div class="callouts">
          <div class="note">
            <b><span class="dot b"></span> Resultado</b>
            <p>Obtendrás el archivo: <b>chef-bot-q4.gguf</b></p>
          </div>
          <div class="note">
            <b><span class="dot"></span> Por qué q4_k_m</b>
            <p>Equilibrio entre tamaño y calidad para uso local en LM Studio.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TEST -->
    <section class="block" id="test">
      <div class="blockhead">
        <div class="title">
          <h2>Probar en LM Studio + Validación</h2>
          <p>Carga el GGUF en LM Studio y verifica que Chef-Bot responde solo sobre cocina.</p>
        </div>
        <div class="badge">Test</div>
      </div>
      <div class="blockbody">
        <div class="callouts">
          <div class="note">
            <b><span class="dot g"></span> Probar en LM Studio</b>
            <p>Copiar el modelo a la carpeta de LM Studio → abrir LM Studio → <b>My Models</b> → <b>Load</b></p>
          </div>
          <div class="note">
            <b><span class="dot"></span> Prompt de prueba</b>
            <p>Escribe: <b>“Tengo aguacate, tomate y lima”</b> → debe sugerir una receta tipo <b>guacamole</b></p>
          </div>
        </div>

        <div class="callouts">
          <div class="note">
            <b><span class="dot b"></span> Cómo saber si funcionó</b>
            <p>✔ genera recetas.✔ responde solo sobre cocina.✔ ignora tareas no culinarias.</p>
          </div>
          <div class="note">
            <b><span class="dot g"></span> Mejora continua</b>
            <p>Si falla: ✔ añade ejemplos al dataset. ✔ vuelve a entrenar.✔ mejora el modelo</p>
          </div>
        </div>

        <div class="note" style="margin-top:12px;">
          <b><span class="dot"></span> Conclusión</b>
          <p>
            Se creó un modelo especializado capaz de generar recetas a partir de ingredientes.
            Mediante fine-tuning y cuantización, un modelo generalista se transformó en un asistente culinario eficiente y ejecutable en local.
          </p>
        </div>
      </div>
    </section>

    <footer>
      Manual hecho por Pablo Diaz 2ºASIR -<a href="#top">Volver arriba</a>
    </footer>
  </div>

  <script>
    // Copiar comandos
    document.querySelectorAll(".copy").forEach(btn => {
      btn.addEventListener("click", async () => {
        const raw = btn.getAttribute("data-copy") || "";
        const text = raw.replace(/&#10;/g, "\n");
        try{
          await navigator.clipboard.writeText(text);
          const old = btn.textContent;
          btn.textContent = "¡Copiado!";
          setTimeout(() => btn.textContent = old, 900);
        }catch(e){
          const ta = document.createElement("textarea");
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          ta.remove();
          const old = btn.textContent;
          btn.textContent = "¡Copiado!";
          setTimeout(() => btn.textContent = old, 900);
        }
      });
    });
  </script>
</body>
</html>
